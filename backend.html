<!doctype html>
<html>

<head>

<style>
.user { 
    border: 1px solid black;
    width: 200px;
    height: 200px;
    float: left;
    margin: 5px;
    padding: 5px;
}
</style>

</head>

<body>

    There are <span id="TotalUsers"></span> total users.<br>


    <div id="users"></div>


    <script src="socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
    $(function() {	
    var socket = io();

    socket.on('update info', function(info){
        $('#users').append('<div id='+info.id+' class="user"></div>');
        $('#'+info.id).append($('<li>').text(info.hosts).attr('id', info.hosts));
        $('#'+info.id).append($('<li>').text(info.referrers).attr('id', info.referrers));
      });

    socket.on('userJoined', function (data) {
        console.log('A user joined');
        console.log(data.id);
        $('#TotalUsers').text(data.total - 1);
    });

    socket.on('user left', function (data) {
        $('#TotalUsers').text(data.susers - 1);
       $('#' + data.suid).remove();
        console.log('client removing' + data.suid);
    });
});

    </script>

  
</body>

</html>
